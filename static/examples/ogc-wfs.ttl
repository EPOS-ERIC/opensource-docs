@prefix adms: <http://www.w3.org/ns/adms#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix epos: <https://www.epos-eu.org/epos-dcat-ap#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .
@prefix hydra: <http://www.w3.org/ns/hydra/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix schema: <http://schema.org/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix cnt: <http://www.w3.org/2011/content#> .
@prefix locn: <http://www.w3.org/ns/locn#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix http: <http://www.w3.org/2006/http#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix gsp: <http://www.opengis.net/ont/geosparql#> .
@prefix dqv: <http://www.w3.org/ns/dqv#> .
@prefix oa: <http://www.w3.org/ns/oa#> .
@prefix foaf: <http://xmlns.com/foaf/spec/#term_> .


#########
# Dataset Top Concept Scheme
#########
<category:facets/dataset-theme> a skos:Concept ;
       skos:definition  "Dataset" ;
       skos:prefLabel   "Dataset"
 .


#########
# Concept Scheme
#########

<category:ogcexample> a skos:ConceptScheme;
 skos:prefLabel "OGC Example" ; 
 dct:title "OGC Example" ;
 dct:description "Some OGC example" ;
 foaf:logo "https://raw.githubusercontent.com/epos-eu/platform-gui-icons/refs/heads/main/Open_Geospatial_Consortium_logo.png" ; 
 #foaf:homepage "" ;
 schema:color "#2e3486";
 schema:orderItemNumber "2";
 skos:hasTopConcept <category:facets/dataset-theme>;
.


#########
# Concepts
#########

<category:ogcexamplewfs> a skos:Concept;
 skos:prefLabel "OGC WFS Example"; #GUI
 skos:definition "This is an example";
 skos:inScheme <category:ogcexample>;
.


###############################################################################
### Organisations ###
###############################################################################

<PIC:999472675> a schema:Organization;
  schema:identifier [ a schema:PropertyValue;
    schema:propertyID "PIC";
    schema:value "999472675";
  ]; 
  schema:legalName "INGV - Istituto Nazionale di Geofisica e Vulcanologia";
  schema:address [ a schema:PostalAddress;
    schema:streetAddress "Via di Vigna Murata 605";
    schema:addressLocality "Rome";
    schema:postalCode "00143";
    schema:addressCountry "IT";
  ]; 
  schema:logo "https://www.ingv.it/templates/g5_helium/custom/images/INGV_logo_colore3.png"^^xsd:anyURI;
  schema:url "http://www.ingv.it"^^xsd:anyURI;
  schema:email "ufficiostampa@ingv.it";
. 


###############################################################################
### Dataset ###
###############################################################################

<https://services.seismofaults.eu/EFSM20> a dcat:Dataset;
		dct:title "Seismology/European Fault Source Model 2020";
		dct:identifier "https://services.seismofaults.eu/EFSM20";
		adms:identifier [ a adms:Identifier;
			adms:schemeAgency "DOI";
			skos:notation "10.13127/efsm20"; 
		];
		dct:description "The European Fault-Source Model 2020 (EFSM20) was compiled in the framework of the EU Project SERA, Work Package 25, JRA3. EFSM20 includes only faults that are deemed to be capable of generating earthquakes of magnitude equal to or larger than 5.5 and aims at ensuring a homogenous input for use in ground-shaking hazard assessment in the Euro-Mediterranean area, namely the European Seismic Hazard Model 2020 (ESHM20). The EFSM20 database is hosted and maintained by INGV through the SEISMOFAULTS.EU infrastructure of the EPOS-ERIC TCS EPOS-Seismology and the EPOS-MIUR Joint Research Unit."; 
		dct:temporal [ a dct:PeriodOfTime;
	  		schema:startDate "2022-09-15T00:00:00Z"^^xsd:dateTime;
			#schema:endDate "YYYY-MM-DDThh:mm:ssZ"^^xsd:dateTime;
	  	];
		dct:spatial [ a dct:Location;
			locn:geometry "POLYGON((-46.9529304504394531 15.2370843887329102, -46.9529304504394531 82.8685073852539063, 53.4622154235839844 82.8685073852539063, 53.4622154235839844 15.2370843887329102, -46.9529304504394531 15.2370843887329102))"^^gsp:wktLiteral;
		];
		dcat:theme <category:ogcexamplewfs>;
		dcat:keyword "active fault", "seismogenic fault", "seismogenic source", "seismogenic zone", "earthquake", "subduction", "crust", "slab", "hazard", "magnitude", "slip rate", "crustal fault", "subduction fault", "seismic hazard", "hazard model", "seismic hazard model", "fault", "seismology", "geology", "geohazard", "INGV", "seismofaults", "strike", "dip","rake", "magnitude", "SERA", "ESHM20", "EFSM20", "EFEHR";
		dqv:hasQualityAnnotation [ a oa:Annotation ;
			oa:hasBody "https://seismofaults.eu/documentation/dqa"^^xsd:anyURI  ;
		];
		dct:publisher <PIC:999472675>;
		dcat:distribution <Seismology/EFSM20/Distribution/WFS_CrustalFaults>;
		dct:accrualPeriodicity "http://purl.org/cld/freq/irregular"^^xsd:anyURI ; 
		dct:type "http://purl.org/dc/dcmitype/Dataset"^^xsd:anyURI ;
.


###############################################################################
### Distribution ###
###############################################################################

<Seismology/EFSM20/Distribution/WFS_CrustalFaults> a dcat:Distribution;
	dct:identifier "Seismology/EFSM20/Distribution/WFS_CrustalFaults";
	dct:title "European Fault Source Model 2020 - Crustal Faults (OGC WFS)";
    dct:description "The European Fault-Source Model 2020 (EFSM20) was compiled in the framework of the EU Project SERA, Work Package 25, JRA3. EFSM20 includes only faults that are deemed to be capable of generating earthquakes of magnitude equal to or larger than 5.5 and aims at ensuring a homogenous input for use in ground-shaking hazard assessment in the Euro-Mediterranean area, namely the European Seismic Hazard Model 2020 (ESHM20). This is the standard OGC WFS web service providing the European Fault Source Model 2020 (EFSM20) data related to crustal faults in the form of vectors. Layers description: 1) efsm20_cf_top: Trace of the fault plane upper edge. Polylines. 2) efsm20_cf_bot: Trace of the fault plane lower edge. Polylines. 3) efsm20_cf_mid: Trace of the fault plane middle line. Polylines 4) efsm20_cf_pld: Vertical projection of the inclined fault planes (in the local dip direction along strike) onto the ground surface. Polygons. 5) efsm20_cfdepths: Depth isolines (contours) of the fault planes, including top and bottom. Polylines. The isoline spacing is fixed at 0.5 km depth. The top and bottom lines of the fault plane are included. The full description of all the parameters can be found in the documentation linked below. The EFSM20 database is hosted and maintained by INGV through the SEISMOFAULTS.EU infrastructure of the EPOS-ERIC TCS EPOS-Seismology and the EPOS-MIUR Joint Research Unit.The standard OGC WMS web service providing the European Fault Source Model 2020 (EFSM20) data in the form of maps. This service is hosted and maintained by Istituto Nazionale di Geofisica e Vulcanologia (INGV) through the European Databases of Seismogenic Faults (Seismofaults.eu) installation.";
	dct:type "http://publications.europa.eu/resource/authority/distribution-type/WEB_SERVICE"^^xsd:anyURI;
	dct:conformsTo <Seismology/EFSM20>;
	dcat:accessURL <Seismology/EFSM20/WFS-CrustalFaults>;
	dct:license "https://creativecommons.org/licenses/by/4.0/"^^xsd:anyURI ;
	dct:format "http://publications.europa.eu/resource/authority/file-type/JSON"^^xsd:anyURI;
.


###############################################################################
### Web service ###
###############################################################################

<Seismology/EFSM20> a epos:WebService;
	schema:identifier "Seismology/EFSM20";
	schema:name "European Fault Source Model 2020";
    schema:description "This web service provides respectively, map layers and vectorial data of the EFSM20 dataset. It is implemented according to the OGC (Open Geospatial Consortium) standard Web Map Service - WMS (1.1.1, 1.3.0) and Web Feature Service - WFS (1.0.0, 1.1.0, 2.0.0)";
	schema:provider <PIC:999472675>;
	dct:spatial [ a dct:Location;
		locn:geometry "POLYGON((-46.9529304504394531 15.2370843887329102, -46.9529304504394531 82.8685073852539063, 53.4622154235839844 82.8685073852539063, 53.4622154235839844 15.2370843887329102, -46.9529304504394531 15.2370843887329102))"^^gsp:wktLiteral;
	];
	hydra:supportedOperation <Seismology/EFSM20/WFS-CrustalFaults>;
	schema:keywords "INGV","OGC","WMS","WFS","web feature service", "web map service", "open geospatial consortium", "geoserver";
	dct:license "https://creativecommons.org/licenses/by/4.0/"^^xsd:anyURI;
	dct:conformsTo <https://www.epos-eu.org/epos-dcat-ap/Seismology/WebService/EFSM20/APIDocumentation>;
.


###############################################################################
###  Web service documentation ###
###############################################################################

<https://www.epos-eu.org/epos-dcat-ap/Seismology/WebService/EFSM20/APIDocumentation> a hydra:ApiDocumentation;
      hydra:title "Web Services documentation and metadata for EFSM20";
      hydra:description "The Seismofaults framework includes EFSM20 as well as related documentation and metadata.";
          hydra:entrypoint "https://seismofaults.eu/efsm20documentation"^^xsd:anyURI;
.


###############################################################################
### Web service operations ###
###############################################################################

<Seismology/EFSM20/WFS-CrustalFaults> a hydra:Operation;
		hydra:method "GET"^^xsd:string;
		hydra:returns "application/gml+xml";
		hydra:property[ a hydra:IriTemplate;
			hydra:template "https://services.seismofaults.eu/EFSM20/ows{?service, version, request, typeNames, outputFormat, count, srsName}&bbox={minlatitude, minlongitude, maxlatitude, maxlongitude}"^^xsd:string;
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "service"^^xsd:string;
					rdfs:range "xsd:string";
					rdfs:label "Service";
					http:paramValue "WFS";
					schema:defaultValue "WFS";
					hydra:required "true"^^xsd:boolean;
					schema:readonlyValue "true"^^xsd:boolean ; # true = hidden
				];
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "version"^^xsd:string;
					rdfs:range "xsd:string";
					rdfs:label "Service version";
					schema:defaultValue "2.0.0";
					http:paramValue "1.1.0";
					http:paramValue "2.0.0";
					hydra:required "true"^^xsd:boolean;
					schema:readonlyValue "true"^^xsd:boolean ; # true = hidden
				];
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "request"^^xsd:string;
					rdfs:range "xsd:string";
					rdfs:label "Request type";
					schema:defaultValue "GetFeature";
					http:paramValue "GetFeature";
					http:paramValue "GetCapabilities";
					http:paramValue "DescribeFeatureType";
					hydra:required "true"^^xsd:boolean;
					schema:readonlyValue "true"^^xsd:boolean ; # true = hidden
				];	
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "typeNames"^^xsd:string;
					rdfs:range "xsd:string";
					rdfs:label "Feature layer to load";
					schema:defaultValue "efsm20_cf_top";
					http:paramValue "efsm20_cf_top";
					http:paramValue "efsm20_cf_bot";
					http:paramValue "efsm20_cf_mid";
					http:paramValue "efsm20_cf_pld";
					http:paramValue "efsm20_cfdepths";
					hydra:required "true"^^xsd:boolean;
				];
				
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "minlatitude"^^xsd:string;
					hydra:property "epos:southernmostLatitude";
					rdfs:label "Minimum Latitude";
					schema:minValue "-90.0";
					schema:maxValue "90.0";
					rdfs:range "xsd:float";
					hydra:required "true"^^xsd:boolean;
					schema:defaultValue "15.243962287902832" ;
				];
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "maxlatitude"^^xsd:string;
					hydra:property "epos:northernmostLatitude";
					rdfs:label "Maximum Latitude";
					schema:minValue "-90.0";
					schema:maxValue "90.0";
					rdfs:range "xsd:float";
					hydra:required "true"^^xsd:boolean;
					schema:defaultValue "82.8685073852539" ;
				];
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "minlongitude"^^xsd:string;
					hydra:property "epos:westernmostLongitude";
					rdfs:label "Minimum Longitude";
					schema:minValue "-180.0";
					schema:maxValue "180.0";
					rdfs:range "xsd:float";
					hydra:required "true"^^xsd:boolean;
					schema:defaultValue "-46.95161056518555" ;
				];
				hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "maxlongitude"^^xsd:string;
					hydra:property "epos:easternmostLongitude";
					rdfs:label "Maximum Longitude";
					schema:minValue "-180.0";
					schema:maxValue "180.0";
					rdfs:range "xsd:float";
					hydra:required "true"^^xsd:boolean;
					schema:defaultValue "53.41323471069336" ;
				];
					hydra:mapping[ a hydra:IriTemplateMapping;
					hydra:variable "outputFormat"^^xsd:string;
					hydra:property "schema:encodingFormat";
					rdfs:range "xsd:string";
					rdfs:label "Output format";
					schema:defaultValue "json";
                    http:paramValue "GML2";
                    http:paramValue "KML";
                    http:paramValue "OGR-CSV";
                    http:paramValue "OGR-KML";
                    http:paramValue "OGR-MIF";
                    http:paramValue "OGR-TAB";
                    http:paramValue "SHAPE-ZIP";
                    http:paramValue "json";
                    http:paramValue "csv";
                    http:paramValue "gml3";
                    http:paramValue "gml32";                                    
					hydra:required "true"^^xsd:boolean;
				];
    ];
.

